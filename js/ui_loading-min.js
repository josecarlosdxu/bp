var loading=function(e,t){"use strict";var n,r,i,s,o="data-loading",u=function(){var e=Math.round(Math.random()*1e10);return e},a=function(){s={detail:{destination:0,idCont:0}}},f=function(e){e.parentNode.removeChild(e);a()},l=function(e){var t=e.detail,n=t.idCont,r="["+o+'="'+n+'"]',i=document.querySelector(r);if(i){f(i)}},c=function(e){var t=e.detail,n=t.destination,r=t.bgContainer;r.removeAttribute("style");n.appendChild(r)},h=function(e){var t=e.detail,n=t.contentObj,i=t.destination,s=createNewElem("popup-container"),u=createNewElem("modularGrid modularGrid--boxed paddingHack"),a=createNewElem("modularGrid-module");a.appendChild(n);u.appendChild(a);s.appendChild(u);s.setAttribute(o,e.detail.idCont);if(i!==r){addClass(s,"popup-container--inside")}e.detail.elemContainer=a;e.detail.bgContainer=s},p=function(t){var n=t.detail,r=n.contentObj,i=s.detail.bgContainer,u=s.detail.elemContainer;i.setAttribute(o,n.idCont);u.innerHTML="";u.appendChild(r);t.detail.elemContainer=u;t.detail.bgContainer=i;e.scrollTo(0,0)},d=function(e){var t,n=s.detail,r=e.detail;if(n.idCont===0){s=e;h(e);c(e);return}t=n.destination===r.destination;if(t){p(e)}else{h(e);c(e)}s=e},v=function(e,t){var n=t||r,s=e||createNewElem("loading"),o=new CustomEvent("loading",{detail:{destination:n,contentObj:s,idCont:u()}});addEventHandler(i,"loading",d);return o},m=function(e){var t=new CustomEvent("isloaded",{detail:{idCont:null}}),n=e||v();t.detail.idCont=n.detail.idCont;addEventHandler(i,"isloaded",l);return t},g=function(){n=document;r=n.body;i=n.documentElement;a()},y=function(){g()};return{init:y,setLoadingEvent:v,setLoadedEvent:m}}(window)